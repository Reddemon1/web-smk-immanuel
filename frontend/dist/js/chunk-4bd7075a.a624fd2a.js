(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bd7075a"],{"299b":function(t,a,s){},"5e3e":function(t,a,s){"use strict";s("299b")},f3c3:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.alertSuccess?s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v(t._s(t.alertSuccess))]):t._e(),t.alertDanger?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.alertDanger))]):t._e(),s("h3",{staticClass:"mb-5"},[t._v("Daftarkan Dirimu")]),s("form",{on:{submit:function(a){return a.preventDefault(),t.daftar.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"nama_perusahaan"}},[t._v("Nama Perusahaan")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.nama_perusahaan))])]),s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"kuota"}},[t._v("Kuota")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.kuota))])]),s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"tersedia"}},[t._v("Slot Tersedia")]),s("p",{class:["font-weight-bold",t.data.slot_tersedia>0?"text-success":"text-danger"]},[t._v(t._s(t.data.slot_tersedia))])]),s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"keterangan"}},[t._v("Keterangan")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.keterangan||"-"))])])]),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"telp"}},[t._v("No Telp Perusahaan")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.telp))])]),s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"pic"}},[t._v("No Telp PIC (Person in Charge)")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.pic))])]),s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"alamat"}},[t._v("Alamat")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.alamat))])]),s("div",{staticClass:"form-group mb-4"},[s("label",{attrs:{for:"kota"}},[t._v("kota")]),s("p",{staticClass:"font-weight-bold"},[t._v(t._s(t.data.kota||"-"))])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:""}},[t._v("Â ")]),void 0==t.statusDaftar||"n"==t.statusDaftar.disetujui?[0!=t.data.slot_tersedia?s("button",{staticClass:"form-control btn-primary",attrs:{type:"button"},on:{click:function(a){t.openModal=!0}}},[t._v("Daftar")]):t._e()]:t._e()],2)]),s("p",{staticClass:"info m-0"},[t._v("Didaftarkan Oleh "),s("b",[t._v(t._s(t.data.creator_name))]),t._v(" pada tanggal "+t._s(t.data.tanggal_didaftarkan))]),s("transition",{attrs:{name:"fade"}},[t.openModal?s("div",{staticClass:"daftar-modal"},[s("div",{staticClass:"modal-inner"},[s("h6",{staticClass:"mb-4"},[t._v("Apakah Kamu yakin untuk mendaftar di "),s("b",[t._v(t._s(t.data.nama_perusahaan)+"?")])]),s("p",{staticClass:"text-danger modal-info"},[t._v("Setelah menekan yakin, anda tidak dapat membatalkan pendaftaran anda")]),s("div",{staticClass:"button-group"},[s("button",{staticClass:"form-control btn-primary",attrs:{type:"submit"}},[t._v("Yakin Dong ðŸ˜Ž")]),s("button",{staticClass:"form-control btn-danger",attrs:{type:"button"},on:{click:function(a){t.openModal=!1}}},[t._v("Engga Yakin ðŸ˜–")])])])]):t._e()])],1)])},o=[],r=s("bc3a"),n=s.n(r),i={data(){return{id:this.$route.params.id,token:localStorage.getItem("token"),me:"",siswas:"",data:"",formData:{pendaftar:""},alertSuccess:"",alertDanger:"",statusDaftar:"",openModal:!1}},methods:{getMe(){n.a.get("auth/me?token="+this.token).then(t=>{this.formData.pendaftar=t.data.username}).catch(t=>{console.log(t.response.data),401==t.response.status&&this.$router.push("/login")})},getStatus(){n.a.get("pendaftaran/1?token="+this.token).then(t=>{this.statusDaftar=t.data[0]}).catch(t=>{console.log(t.response.data)})},getSiswa(){n.a.get("auth/siswa?token="+this.token).then(t=>{this.siswas=t.data}).catch(t=>{console.log(t.response.data),401==t.response.status&&this.$router.push("/login")})},getData(){n.a.get(`magang/${this.id}?token=${this.token}`).then(t=>{this.data=t.data}).catch(t=>{console.log(t.response.data),401==t.response.status&&this.$router.push("/login")})},daftar(){n.a.post(`pendaftaran?id=${this.id}&token=${this.token}`,this.formData).then(t=>{scrollTo(0,0),this.alertSuccess=t.data.message,this.openModal=!1,this.getData(),this.getStatus()}).catch(t=>{scrollTo(0,0),this.alertSuccess="",this.openModal=!1,this.alertDanger=t.response.data.message,401==t.response.status&&this.$router.push("/login")})}},created(){this.getMe(),this.getSiswa(),this.getStatus(),this.getData()}},l=i,d=(s("5e3e"),s("2877")),c=Object(d["a"])(l,e,o,!1,null,"b27951e6",null);a["default"]=c.exports}}]);