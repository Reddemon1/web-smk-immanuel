(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b02d96e"],{"10ed":function(a,t,e){"use strict";e("922d")},"922d":function(a,t,e){},fa4f:function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.alertSuccess?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[a._v(a._s(a.alertSuccess))]):a._e(),a.alertDanger?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a._v(a._s(a.alertDanger))]):a._e(),e("h3",{staticClass:"mb-5"},[a._v("Daftarkan Perusahaan")]),e("form",{on:{submit:function(t){return t.preventDefault(),a.submitData.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nama_perusahaan"}},[a._v("Nama Perusahaan")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.nama_perusahaan,expression:"formData.nama_perusahaan"}],staticClass:"form-control",attrs:{type:"text",id:"nama_perusahaan"},domProps:{value:a.formData.nama_perusahaan},on:{input:function(t){t.target.composing||a.$set(a.formData,"nama_perusahaan",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"kuota"}},[a._v("Kuota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.kuota,expression:"formData.kuota"}],staticClass:"form-control",attrs:{type:"number",id:"kuota",min:"1",max:"4",placeholder:"Max 4"},domProps:{value:a.formData.kuota},on:{input:function(t){t.target.composing||a.$set(a.formData,"kuota",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"alamat"}},[a._v("Alamat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.alamat,expression:"formData.alamat"}],staticClass:"form-control",attrs:{type:"text",id:"alamat"},domProps:{value:a.formData.alamat},on:{input:function(t){t.target.composing||a.$set(a.formData,"alamat",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"kota"}},[a._v("Kota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.kota,expression:"formData.kota"}],staticClass:"form-control",attrs:{type:"text",id:"kota"},domProps:{value:a.formData.kota},on:{input:function(t){t.target.composing||a.$set(a.formData,"kota",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"telp"}},[a._v("No Telp Perusahaan")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.telp,expression:"formData.telp"}],staticClass:"form-control",attrs:{type:"tel",id:"telp"},domProps:{value:a.formData.telp},on:{input:function(t){t.target.composing||a.$set(a.formData,"telp",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"pic"}},[a._v("No Telp PIC (Person in Charge)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.pic,expression:"formData.pic"}],staticClass:"form-control",attrs:{type:"tel",id:"pic",placeholder:""},domProps:{value:a.formData.pic},on:{input:function(t){t.target.composing||a.$set(a.formData,"pic",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"keterangan"}},[a._v("Keterangan")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.formData.keterangan,expression:"formData.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan"},domProps:{value:a.formData.keterangan},on:{input:function(t){t.target.composing||a.$set(a.formData,"keterangan",t.target.value)}}})]),a._m(0)]),e("div",{staticClass:"col-lg-6"},[a._l(parseInt(a.formData.kuota)||0,(function(t,r){return e("div",{key:t,staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Pilih Siswa "+a._s(t))]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.formData.pendaftar[r],expression:"formData.pendaftar[x]"}],staticClass:"form-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.$set(a.formData.pendaftar,r,t.target.multiple?e:e[0])}}},a._l(a.siswas,(function(t){return e("option",{key:t.username,domProps:{value:t.username}},[a._v(a._s(t.name)+" - "+a._s(t.username))])})),0)])})),e("label",{attrs:{for:""}},[a._v("Â ")]),a._m(1),e("button",{staticClass:"mobile form-control btn-primary mt-5",attrs:{type:"submit"}},[a._v("Submit")])],2)])])])},s=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[a._v("Â ")]),e("button",{staticClass:"desktop form-control btn-primary",attrs:{type:"submit"}},[a._v("Submit")])])},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e("h4",{staticClass:"alert-heading"},[a._v("Perhatian! ðŸ˜‘")]),e("p",[a._v("Sebelum Mendaftarkan perusahaan, Kamu WAJIB Melihat di list perusahaan dulu. Apakah perusahaannya sudah terdaftar atau tidak. Jika sudah dan slotnya sudah habis, KAMU GA BOLEH MENDAFTARKAN PERUSAANYA LAGI. Jika Masih ada slot, kamu boleh apply disana.")]),e("hr"),e("p",{staticClass:"mb-0"},[a._v("Jika ternyata perusahaannya bisa nerima kuota lebih banyak daripada kuota yang terdaftar di list perusahaan. Contoh: Di list Kuotanya cuma 2, Ternyata perusahaan itu nerima 4. Kamu mintalah pendaftar itu untuk mengedit Kuotanya. karena cuma pendaftar yang bisa Edit :v. Nama pendaftar ada dibawah cardnya ex: "),e("i",[a._v('"Perusahaan ini didaftarkan oleh ..."')])])])}],o=e("bc3a"),n=e.n(o),i={data(){return{token:localStorage.getItem("token"),siswas:"",formData:{nama_perusahaan:"",kuota:"",alamat:"",kota:"",telp:"",pic:"",keterangan:"",pendaftar:[]},alertSuccess:"",alertDanger:""}},watch:{"formData.telp"(a){this.formData.telp=a.replace(/[^\d]/g,"")},"formData.pic"(a){this.formData.pic=a.replace(/[^\d]/g,"")},"formData.kuota"(a){a>=4&&(this.formData.kuota=4),a<0&&(this.formData.kuota=1)}},methods:{getSiswa(){n.a.get("auth/siswa?token="+this.token).then(a=>{this.siswas=a.data}).catch(a=>{console.log(a.response.data),401==a.response.status&&this.$router.push("/login")})},submitData(){const a=document.querySelector(".desktop"),t=document.querySelector(".mobile");a.disabled=!0,t.disabled=!0,a.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...',t.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...',this.formData.pendaftar=this.formData.pendaftar.slice(0,this.formData.kuota),n.a.post("magang?token="+this.token,this.formData).then(a=>{this.alertSuccess=a.data.message,setTimeout(()=>{this.$router.push("/pendaftaran-magang/info")},400)}).catch(e=>{scrollTo(0,0),a.disabled=!1,t.disabled=!1,a.innerHTML="Submit",t.innerHTML="Submit",this.alertDanger=e.response.data.message,401==e.response.status&&this.$router.push("/login")})}},created(){this.getSiswa()}},l=i,m=(e("10ed"),e("2877")),u=Object(m["a"])(l,r,s,!1,null,"c5bad326",null);t["default"]=u.exports}}]);