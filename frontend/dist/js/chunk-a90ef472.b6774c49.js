(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a90ef472"],{"0df7":function(a,t,e){"use strict";e("54bd")},"21dc":function(a,t,e){"use strict";e.r(t);var r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[a.alertSuccess?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[a._v(a._s(a.alertSuccess))]):a._e(),a.alertDanger?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a._v(a._s(a.alertDanger))]):a._e(),a.magang_id?a._e():e("h3",{staticClass:"mb-0"},[a._v("Tampaknya kamu tidak ada mendaftarkan perusahaan ðŸ™‚")]),a.magang_id?e("h3",{staticClass:"mb-5"},[a._v("Edit Data Perusahaan")]):a._e(),a.magang_id?e("form",{on:{submit:function(t){return t.preventDefault(),a.submitData.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nama_perusahaan"}},[a._v("Nama Perusahaan")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.nama_perusahaan,expression:"formData.nama_perusahaan"}],staticClass:"form-control",attrs:{type:"text",id:"nama_perusahaan"},domProps:{value:a.formData.nama_perusahaan},on:{input:function(t){t.target.composing||a.$set(a.formData,"nama_perusahaan",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"kuota"}},[a._v("Kuota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.kuota,expression:"formData.kuota"}],staticClass:"form-control",attrs:{type:"number",id:"kuota",min:"1",max:"4",placeholder:"Max 4"},domProps:{value:a.formData.kuota},on:{input:function(t){t.target.composing||a.$set(a.formData,"kuota",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"alamat"}},[a._v("Alamat")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.alamat,expression:"formData.alamat"}],staticClass:"form-control",attrs:{type:"text",id:"alamat"},domProps:{value:a.formData.alamat},on:{input:function(t){t.target.composing||a.$set(a.formData,"alamat",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"kota"}},[a._v("Kota")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.kota,expression:"formData.kota"}],staticClass:"form-control",attrs:{type:"text",id:"kota"},domProps:{value:a.formData.kota},on:{input:function(t){t.target.composing||a.$set(a.formData,"kota",t.target.value)}}})])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"telp"}},[a._v("No Telp Perusahaan")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.telp,expression:"formData.telp"}],staticClass:"form-control",attrs:{type:"tel",id:"telp"},domProps:{value:a.formData.telp},on:{input:function(t){t.target.composing||a.$set(a.formData,"telp",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"pic"}},[a._v("No Telp PIC (Person in Charge)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formData.pic,expression:"formData.pic"}],staticClass:"form-control",attrs:{type:"tel",id:"pic",placeholder:""},domProps:{value:a.formData.pic},on:{input:function(t){t.target.composing||a.$set(a.formData,"pic",t.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"keterangan"}},[a._v("Keterangan")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.formData.keterangan,expression:"formData.keterangan"}],staticClass:"form-control",attrs:{id:"keterangan"},domProps:{value:a.formData.keterangan},on:{input:function(t){t.target.composing||a.$set(a.formData,"keterangan",t.target.value)}}})])]),e("button",{staticClass:"btn-edit form-control btn-primary mt-5",attrs:{type:"submit"}},[a._v("Edit")])])]):a._e()])},o=[],s=e("bc3a"),n=e.n(s),i={data(){return{id:this.$route.params.id,token:localStorage.getItem("token"),magang_id:"",formData:{nama_perusahaan:"",kuota:"",alamat:"",kota:"",telp:"",pic:"",keterangan:""},alertSuccess:"",alertDanger:""}},watch:{"formData.telp"(a){this.formData.telp=a.replace(/[^\d]/g,"")},"formData.pic"(a){this.formData.pic=a.replace(/[^\d]/g,"")},"formData.kuota"(a){a>=4&&(this.formData.kuota=4),a<0&&(this.formData.kuota=1)}},methods:{getFormData(){n.a.get(`magang/${this.id}?token=${this.token}`).then(a=>{a.data.id&&(this.formData.nama_perusahaan=a.data.nama_perusahaan,this.formData.kuota=a.data.kuota,this.formData.alamat=a.data.alamat,this.formData.kota=a.data.kota,this.formData.telp=a.data.telp,this.formData.pic=a.data.pic,this.formData.keterangan=a.data.keterangan,this.magang_id=a.data.id)}).catch(a=>{console.log(a.response.data),401==a.response.status&&this.$router.push("/login")})},submitData(){const a=document.querySelector(".btn-edit");a.disabled=!0,a.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Loading...',n.a.put(`magang/${this.magang_id}?token=${this.token}`,this.formData).then(t=>{scrollTo(0,0),a.disabled=!1,a.innerHTML="Edit",this.alertSuccess=t.data.message}).catch(t=>{scrollTo(0,0),a.disabled=!1,a.innerHTML="Edit",this.alertDanger=t.response.data.message,401==t.response.status&&this.$router.push("/login")})}},created(){this.getFormData()}},l=i,m=(e("0df7"),e("2877")),u=Object(m["a"])(l,r,o,!1,null,"4a19c4de",null);t["default"]=u.exports},"54bd":function(a,t,e){}}]);